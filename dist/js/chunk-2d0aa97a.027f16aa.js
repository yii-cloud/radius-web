(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa97a"],{1258:function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("a-layout-content",{staticStyle:{margin:"0 16px"}},[r("a-breadcrumb",{staticStyle:{margin:"16px 0"}},[r("a-breadcrumb-item",[e._v("管理员管理")]),r("a-breadcrumb-item",[e._v("修改管理员密码")])],1),r("div",{class:"content-div"},[r("a-form",{style:{width:"800px",margin:"auto auto"},attrs:{form:e.form},on:{submit:e.handleSubmit}},[r("a-form-item",{attrs:{label:"姓名","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["realName",{rules:[{required:!0}]}],expression:"[\n        'realName',\n        {rules: [{ required: true}]}\n      ]"}],attrs:{disabled:!0}})],1),r("a-form-item",{attrs:{label:"用户名","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0}]}],expression:"[\n        'username',\n        {rules: [{ required: true}]}\n      ]"}],attrs:{disabled:!0}})],1),r("a-form-item",{attrs:{label:"新密码","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["newPassword",{rules:[{required:!0,message:"请输入新密码,至少六位数字字母组合(6-18位)",min:6}]}],expression:"[\n        'newPassword',\n        {rules: [{ required: true, message: '请输入新密码,至少六位数字字母组合(6-18位)', min: 6}]}\n      ]"}],attrs:{placeholder:"请输入新密码"}})],1),r("a-form-item",{attrs:{label:"确认新密码","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["comfirmPassword",{rules:[{required:!0,message:"确认新密码,至少六位数字字母组合(6-18位)",min:6}]}],expression:"[\n        'comfirmPassword',\n        {rules: [{ required: true, message: '确认新密码,至少六位数字字母组合(6-18位)', min: 6}]}\n      ]"}],attrs:{placeholder:"确认新密码"}})],1),r("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[r("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)},s=[],n=/^[0-9a-zA-z]{6,18}$/,o={data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this),realName:"",username:"",id:0}},methods:{handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields(function(e,r){if(!e){if(r.newPassword!=r.comfirmPassword)return void alert("密码不一致,请重新输入");if(!n.test(r.newPassword))return void alert("密码是6-18位数字或者字母组合,请重新输入");r.id=a.id,a.axios.post(a.CONFIG.apiUrl+"/manager/change/password",r).then(function(e){alert(e.data.message),a.axios.post(a.CONFIG.apiUrl+"/logout",{}),localStorage.removeItem("rad_access_token"),a.$router.push("/")}).catch(function(){})}})},getUser:function(){var e=this;this.axios.post(this.CONFIG.apiUrl+"/session/manager/info",{}).then(function(a){var r=a.data.data.manager;e.realName=r.realName,e.username=r.username,e.form.setFieldsValue({realName:e.realName,username:e.username}),e.id=r.id}).catch(function(){})}},mounted:function(){this.getUser()}},i=o,l=r("2877"),m=Object(l["a"])(i,t,s,!1,null,null,null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0aa97a.027f16aa.js.map