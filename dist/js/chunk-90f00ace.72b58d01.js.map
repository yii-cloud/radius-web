{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_parse-int.js","webpack:///./node_modules/core-js/library/modules/es6.parse-int.js","webpack:///./src/views/user/UserAdd.vue?e854","webpack:///src/views/user/UserAdd.vue","webpack:///./src/views/user/UserAdd.vue?b3d8","webpack:///./src/views/user/UserAdd.vue","webpack:///./node_modules/core-js/library/modules/_string-trim.js","webpack:///./node_modules/core-js/library/fn/parse-int.js","webpack:///./node_modules/core-js/library/modules/_string-ws.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/parse-int.js"],"names":["$parseInt","__webpack_require__","parseInt","$trim","trim","ws","hex","module","exports","str","radix","string","String","test","$export","G","F","render","_vm","this","_h","$createElement","_c","_self","staticStyle","margin","_v","class","style","width","attrs","form","on","submit","handleSubmit","label","label-col","span","wrapper-col","directives","name","rawName","value","rules","required","message","expression","placeholder","min","type","change","productSelected","_l","item","key","id","serviceMonth","product","_s","hidden","isMonthy","validator","validateCount","initialValue","blur","$event","countChanged","slot","title","expire","price","row","offset","html-type","staticRenderFns","UserAddvue_type_script_lang_js_","data","formLayout","$form","createForm","products","count","productServiceMonth","methods","fetchProducts","_this","axios","post","CONFIG","apiUrl","then","response","e","_this2","preventDefault","validateFields","err","values","format","parse_int_default","alert","code","$router","push","catch","option","m","expireDate","moment_default","add","setFieldsValue","countStr","getFieldValue","isNaN","months","_","callback","mounted","user_UserAddvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","fn","P","TYPE","replace"],"mappings":"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","file":"js/chunk-90f00ace.72b58d01.js","sourcesContent":["var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-layout-content',{staticStyle:{\"margin\":\"0 16px\"}},[_c('a-breadcrumb',{staticStyle:{\"margin\":\"16px 0\"}},[_c('a-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('a-breadcrumb-item',[_vm._v(\"添加用户\")])],1),_c('div',{class:'content-div'},[_c('a-form',{style:({width:'800px', margin:'auto auto'}),attrs:{\"form\":_vm.form},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"label\":\"用户名\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'username',\n            {rules: [{ required: true, message: '请输入用户名!' }]}\n          ]),expression:\"[\\n            'username',\\n            {rules: [{ required: true, message: '请输入用户名!' }]}\\n          ]\"}],attrs:{\"placeholder\":\"请输入用户名\"}})],1),_c('a-form-item',{attrs:{\"label\":\"密码\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                        'password',\n                        {rules: [{message: '请输入密码!', min: 6 }]}\n                        ]),expression:\"[\\n                        'password',\\n                        {rules: [{message: '请输入密码!', min: 6 }]}\\n                        ]\"}],attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"}})],1),_c('a-form-item',{attrs:{\"label\":\"真实姓名\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'realName',\n        {rules: [{ required: true, message: '请输入姓名!' }]}\n      ]),expression:\"[\\n        'realName',\\n        {rules: [{ required: true, message: '请输入姓名!' }]}\\n      ]\"}],attrs:{\"placeholder\":\"请输入姓名\"}})],1),_c('a-form-item',{attrs:{\"label\":\"订购套餐\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'productId',\n        {rules: [{ required: true, message: '请选择套餐!' }]}\n      ]),expression:\"[\\n        'productId',\\n        {rules: [{ required: true, message: '请选择套餐!' }]}\\n      ]\"}],attrs:{\"placeholder\":\"请选择套餐\"},on:{\"change\":_vm.productSelected}},_vm._l((_vm.products),function(item){return _c('a-select-option',{key:item.id,attrs:{\"value\":item.id,\"type\":item.type,\"serviceMonth\":item.serviceMonth,\"product\":item}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('a-form-item',{attrs:{\"hidden\":!_vm.isMonthy,\"label\":\"套餐倍数\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'count',\n        {rules: [{ required: true, message: '套餐倍数必须是大于0的整数，默认1',\n                    validator: _vm.validateCount}], \n                    initialValue: 1 }\n      ]),expression:\"[\\n        'count',\\n        {rules: [{ required: true, message: '套餐倍数必须是大于0的整数，默认1',\\n                    validator: validateCount}], \\n                    initialValue: 1 }\\n      ]\"}],attrs:{\"placeholder\":\"套餐倍数，默认1\"},on:{\"blur\":function($event){return _vm.countChanged()}}})],1),_c('a-form-item',{attrs:{\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"\\n          到期时间\\n          \"),_c('a-tooltip',{attrs:{\"title\":\"流量和时长套餐可选择套餐使用的截止时间,不选择则使用套餐默认值(当日,当月,无限)！\"}},[_c('a-icon',{attrs:{\"type\":\"question-circle-o\"}})],1)],1),_c('a-date-picker',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['expireTime', {initialValue: _vm.expire,rules: [{ type: 'object'}]}]),expression:\"['expireTime', {initialValue: expire,rules: [{ type: 'object'}]}]\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"选填,到期时间\"}})],1),_c('a-form-item',{attrs:{\"label\":\"价格\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'price', {initialValue: _vm.price}\n      ]),expression:\"[\\n        'price', {initialValue: price}\\n      ]\"}],attrs:{\"placeholder\":\"价格\"}})],1),_c('a-form-item',{attrs:{\"label\":\"静态IP地址\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'framedIpAddr'\n      ]),expression:\"[\\n        'framedIpAddr'\\n      ]\"}],attrs:{\"placeholder\":\"选填，静态IP地址\"}})],1),_c('a-form-item',{attrs:{\"label\":\"手机号码\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'mobile'\n      ]),expression:\"[\\n        'mobile'\\n      ]\"}],attrs:{\"placeholder\":\"选填，手机号码\"}})],1),_c('a-form-item',{attrs:{\"label\":\"电子邮件\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n            'email'\n           ]),expression:\"[\\n            'email'\\n           ]\"}],attrs:{\"placeholder\":\"选填，电子邮件\"}})],1),_c('a-form-item',{attrs:{\"label\":\"装机地址\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-textarea',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'installedAddr',\n        {rules: [{ required: true, message: '请输入装机地址!' }]}\n      ]),expression:\"[\\n        'installedAddr',\\n        {rules: [{ required: true, message: '请输入装机地址!' }]}\\n      ]\"}],attrs:{\"row\":3,\"placeholder\":\"请输入装机地址\"}})],1),_c('a-form-item',{attrs:{\"label\":\"描述\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 12 }}},[_c('a-textarea',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'description'\n      ]),expression:\"[\\n        'description'\\n      ]\"}],attrs:{\"row\":3,\"placeholder\":\"选填，描述\"}})],1),_c('a-form-item',{attrs:{\"wrapper-col\":{ span: 12, offset: 5}}},[_c('a-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"html-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <a-layout-content style=\"margin: 0 16px;\">\r\n    <a-breadcrumb style=\"margin: 16px 0\">\r\n      <a-breadcrumb-item>用户管理</a-breadcrumb-item>\r\n      <a-breadcrumb-item>添加用户</a-breadcrumb-item>\r\n    </a-breadcrumb>\r\n    <div :class=\"'content-div'\">\r\n      <a-form :form=\"form\" :style=\"{width:'800px', margin:'auto auto'}\" @submit=\"handleSubmit\">\r\n        <a-form-item label=\"用户名\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-input\r\n            v-decorator=\"[\r\n              'username',\r\n              {rules: [{ required: true, message: '请输入用户名!' }]}\r\n            ]\"\r\n            placeholder=\"请输入用户名\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item label=\"密码\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-input\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n            v-decorator=\"[\r\n                          'password',\r\n                          {rules: [{message: '请输入密码!', min: 6 }]}\r\n                          ]\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item label=\"真实姓名\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-input\r\n            v-decorator=\"[\r\n          'realName',\r\n          {rules: [{ required: true, message: '请输入姓名!' }]}\r\n        ]\"\r\n            placeholder=\"请输入姓名\"\r\n          ></a-input>\r\n        </a-form-item>\r\n        <a-form-item label=\"订购套餐\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-select\r\n            @change=\"productSelected\"\r\n            v-decorator=\"[\r\n          'productId',\r\n          {rules: [{ required: true, message: '请选择套餐!' }]}\r\n        ]\"\r\n            placeholder=\"请选择套餐\"\r\n          >\r\n            <a-select-option\r\n              v-for=\"item in products\"\r\n              :key=\"item.id\"\r\n              :value=\"item.id\"\r\n              :type=\"item.type\"\r\n              :serviceMonth=\"item.serviceMonth\"\r\n              :product=\"item\"\r\n            >{{item.name}}</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item\r\n          :hidden=\"!isMonthy\"\r\n          label=\"套餐倍数\"\r\n          :label-col=\"{ span: 5 }\"\r\n          :wrapper-col=\"{ span: 12 }\"\r\n        >\r\n          <a-input\r\n            @blur=\"countChanged()\"\r\n            v-decorator=\"[\r\n          'count',\r\n          {rules: [{ required: true, message: '套餐倍数必须是大于0的整数，默认1',\r\n                      validator: validateCount}], \r\n                      initialValue: 1 }\r\n        ]\"\r\n            placeholder=\"套餐倍数，默认1\"\r\n          ></a-input>\r\n        </a-form-item>\r\n        <a-form-item :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <span slot=\"label\">\r\n            到期时间\r\n            <a-tooltip title=\"流量和时长套餐可选择套餐使用的截止时间,不选择则使用套餐默认值(当日,当月,无限)！\">\r\n              <a-icon type=\"question-circle-o\"/>\r\n            </a-tooltip>\r\n          </span>\r\n          <a-date-picker\r\n            style=\"width:100%\"\r\n            placeholder=\"选填,到期时间\"\r\n            v-decorator=\"['expireTime', {initialValue: expire,rules: [{ type: 'object'}]}]\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item label=\"价格\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-input placeholder=\"价格\" v-decorator=\"[\r\n          'price', {initialValue: price}\r\n        ]\"/>\r\n        </a-form-item>\r\n        <a-form-item label=\"静态IP地址\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-input placeholder=\"选填，静态IP地址\" v-decorator=\"[\r\n          'framedIpAddr'\r\n        ]\"/>\r\n        </a-form-item>\r\n        <a-form-item label=\"手机号码\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-input v-decorator=\"[\r\n          'mobile'\r\n        ]\" placeholder=\"选填，手机号码\"></a-input>\r\n        </a-form-item>\r\n        <a-form-item label=\"电子邮件\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-input v-decorator=\"[\r\n              'email'\r\n             ]\" placeholder=\"选填，电子邮件\"/>\r\n        </a-form-item>\r\n        <a-form-item label=\"装机地址\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-textarea\r\n            :row=\"3\"\r\n            placeholder=\"请输入装机地址\"\r\n            v-decorator=\"[\r\n          'installedAddr',\r\n          {rules: [{ required: true, message: '请输入装机地址!' }]}\r\n        ]\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item label=\"描述\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n          <a-textarea\r\n            :row=\"3\"\r\n            v-decorator=\"[\r\n          'description'\r\n        ]\"\r\n            placeholder=\"选填，描述\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item :wrapper-col=\"{ span: 12, offset: 5}\">\r\n          <a-button type=\"primary\" style=\"width:100%\" html-type=\"submit\">提交</a-button>\r\n        </a-form-item>\r\n      </a-form>\r\n    </div>\r\n  </a-layout-content>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      formLayout: \"horizontal\",\r\n      form: this.$form.createForm(this),\r\n      products: [],\r\n      count: 1,\r\n      isMonthy: false,\r\n      expire: null,\r\n      productServiceMonth: 0,\r\n      product:null,\r\n      price: null,\r\n    };\r\n  },\r\n  methods: {\r\n    fetchProducts() {\r\n      this.axios\r\n        .post(this.CONFIG.apiUrl + \"/fetch/product\", {})\r\n        .then(response => {\r\n          this.products = response.data.data;\r\n        });\r\n    },\r\n    handleSubmit(e) {\r\n      e.preventDefault();\r\n      this.form.validateFields((err, values) => {\r\n        var expire = values[\"expireTime\"];\r\n        if (expire != null) {\r\n          expire = expire.format(\"YYYY-MM-DD HH:mm:ss\");\r\n          values[\"expireTime\"] = expire;\r\n        }\r\n        if (!err) {\r\n          values[\"count\"] = parseInt(values[\"count\"]);\r\n          this.axios\r\n            .post(this.CONFIG.apiUrl + \"/user/add\", values)\r\n            .then(response => {\r\n              alert(response.data.message);\r\n              if(response.data.code == 1) {\r\n                return;\r\n              }\r\n              this.$router.push(\"/user\");\r\n            })\r\n            .catch(() => {});\r\n        }\r\n      });\r\n    },\r\n    productSelected(value, option) {\r\n      this.product = option.data.attrs.product;\r\n      this.price = this.product.price / 100.0;\r\n      if (option.data.attrs.type == 1) {\r\n        this.isMonthy = true;\r\n        var m = option.data.attrs.serviceMonth;\r\n        this.productServiceMonth = m;\r\n        var expireDate = moment().add(m, \"M\");\r\n        this.expire = expireDate;\r\n      } else {\r\n        this.isMonthy = false;\r\n        this.form.setFieldsValue({ count: 1 });\r\n        this.expire = null;\r\n      }\r\n    },\r\n    countChanged() {\r\n      var countStr = this.form.getFieldValue(\"count\")\r\n      if (this.productServiceMonth == 0 || isNaN(countStr) || countStr == '0') {\r\n        this.expire = null;\r\n        return;\r\n      }\r\n      var count = parseInt(countStr);\r\n      this.price = this.price * count;\r\n      var months = this.productServiceMonth * count;\r\n      var expireDate = moment().add(months, \"M\");\r\n      this.expire = expireDate;\r\n    },\r\n    validateCount(_, value, callback) {\r\n      if(isNaN(value) || value <= 0 ) {\r\n          callback(\"必须是数字并且大于0\");\r\n          this.expire = null;\r\n          return;\r\n      } \r\n      callback();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchProducts();\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAdd.vue?vue&type=template&id=7ede7746&\"\nimport script from \"./UserAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","require('../modules/es6.parse-int');\nmodule.exports = require('../modules/_core').parseInt;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","module.exports = require(\"core-js/library/fn/parse-int\");"],"sourceRoot":""}