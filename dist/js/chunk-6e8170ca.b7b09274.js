(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e8170ca"],{"0bfb":function(e,t,a){"use strict";var r=a("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"214f":function(e,t,a){"use strict";a("b0c5");var r=a("2aba"),n=a("32e9"),i=a("79e5"),s=a("be13"),o=a("2b4c"),c=a("520a"),l=o("species"),u=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var p=o(e),f=!i(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),m=f?!i(function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[l]=function(){return a}),a[p](""),!t}):void 0;if(!f||!m||"replace"===e&&!u||"split"===e&&!d){var v=/./[p],h=a(s,p,""[e],function(e,t,a,r,n){return t.exec===c?f&&!n?{done:!0,value:v.call(t,a,r)}:{done:!0,value:e.call(a,t,r)}:{done:!1}}),g=h[0],b=h[1];r(String.prototype,e,g),n(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"268f":function(e,t,a){e.exports=a("fde4")},"355f":function(e,t,a){"use strict";var r=a("d9d0"),n=a.n(r);n.a},"386d":function(e,t,a){"use strict";var r=a("cb7c"),n=a("83a1"),i=a("5f1b");a("214f")("search",1,function(e,t,a,s){return[function(a){var r=e(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,r):new RegExp(a)[t](String(r))},function(e){var t=s(a,e,this);if(t.done)return t.value;var o=r(e),c=String(this),l=o.lastIndex;n(l,0)||(o.lastIndex=0);var u=i(o,c);return n(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]})},"520a":function(e,t,a){"use strict";var r=a("0bfb"),n=RegExp.prototype.exec,i=String.prototype.replace,s=n,o="lastIndex",c=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e[o]||0!==t[o]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(s=function(e){var t,a,s,u,d=this;return l&&(a=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),c&&(t=d[o]),s=n.call(d,e),c&&s&&(d[o]=d.global?s.index+s[0].length:t),l&&s&&s.length>1&&i.call(s[0],a,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)}),s}),e.exports=s},"5f1b":function(e,t,a){"use strict";var r=a("23c6"),n=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var i=a.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"85f2":function(e,t,a){e.exports=a("454f")},"96c6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout-content",{staticStyle:{margin:"0 16px"}},[a("a-breadcrumb",{staticStyle:{margin:"16px 0"}},[a("a-breadcrumb-item",[e._v("管理员管理")]),a("a-breadcrumb-item",[e._v("管理员列表")])],1),a("div",{class:"content-div"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[[a("a-form",{staticClass:"ant-advanced-search-form",attrs:{form:e.search}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{style:{display:"block"},attrs:{span:6}},[a("a-form-item",{attrs:{label:"用户名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username"],expression:"[\n              'username'\n            ]"}],attrs:{placeholder:"用户名模糊搜索"}})],1)],1),a("a-col",{style:{display:"block"},attrs:{span:6}},[a("a-form-item",{attrs:{label:"姓名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["realName"],expression:"[\n              'realName'\n            ]"}],attrs:{placeholder:"姓名模糊搜索"}})],1)],1),a("a-col",{style:{display:"block"},attrs:{span:6}},[a("a-form-item",{attrs:{label:"状态"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status"],expression:"[\n                                  'status',\n                                  ]"}],attrs:{placeholder:"请选择状态"}},e._l(e.managerStatusList,function(t){return a("a-select-option",{key:t.key,attrs:{value:t.key}},[e._v(e._s(t.value))])}),1)],1)],1),a("a-col",{style:{textAlign:"left"},attrs:{span:6}},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchFunc}},[e._v("搜 索")]),a("a-button",{style:{marginLeft:"8px",backgroundColor:"#ffca7e",color:"white"},attrs:{icon:"reload"},on:{click:e.resetSearch}},[e._v("重 置")])],1)],1)],1)]],2),a("div",{staticStyle:{height:"39px"}},[[a("div",[-1!=e.$store.getters.getButtonIds.indexOf(411)?a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.show()}}},[a("a-icon",{attrs:{type:"plus"}}),e._v("添加管理员信息\n          ")],1):e._e(),a("a-modal",{attrs:{title:e.isUpdate?"修改管理员信息":"增加管理员",maskClosable:!1,footer:null},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"用户名","label-col":{span:5},"wrapper-col":{span:12}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入用户名!"}]}],expression:"[\n                                  'username',\n                                  {rules: [{ required: true, message: '请输入用户名!' }]}\n                                  ]"}],attrs:{disabled:e.isUpdate}})],1),e.isUpdate?a("a-form-item",{attrs:{label:"状态","label-col":{span:5},"wrapper-col":{span:12}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[{required:!0,message:"请选择状态!"}]}],expression:"[\n                                  'status',\n                                  {rules: [{ required: true, message: '请选择状态!' }]}\n                                  ]"}],attrs:{placeholder:"请选择状态"}},e._l(e.managerStatusList,function(t){return a("a-select-option",{key:t.key,attrs:{value:t.key,disabled:e.isUpdate&&3==t.key}},[e._v(e._s(t.value))])}),1)],1):e._e(),a("a-form-item",{attrs:{label:"真实姓名","label-col":{span:5},"wrapper-col":{span:12}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["realName",{rules:[{required:!e.isUpdate,message:"请输入姓名!"}]}],expression:"[\n                                  'realName',\n                                  {rules: [{ required: !isUpdate, message: '请输入姓名!' }]}\n                                  ]"}]})],1),a("a-form-item",{attrs:{label:"密码","label-col":{span:5},"wrapper-col":{span:12}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!e.isUpdate,message:"请输入密码!"}]}],expression:"[\n                                  'password',\n                                  {rules: [{ required: !isUpdate, message: '请输入密码!' }]}\n                                  ]"}],attrs:{type:"password"}})],1),a("a-form-item",{attrs:{label:"选择部门","label-col":{span:5},"wrapper-col":{span:12}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["departmentId",{rules:[{required:!0,message:"请选择部门!"}]}],expression:"[\n                                  'departmentId',\n                                  {rules: [{ required: true, message: '请选择部门!' }]}\n                                  ]"}],attrs:{placeholder:"请选择部门"}},e._l(e.departments,function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}),1)],1),a("a-form-item",{attrs:{label:"联系方式","label-col":{span:5},"wrapper-col":{span:12}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile"],expression:"[\n                                  'mobile'\n                                  ]"}]})],1),a("a-form-item",{attrs:{label:"电子邮件","label-col":{span:5},"wrapper-col":{span:12}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email"],expression:"[\n                                  'email'\n                                  ]"}]})],1),a("a-form-item",{attrs:{label:"描述信息","label-col":{span:5},"wrapper-col":{span:12}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"[\n                                  'description'\n                                  ]"}],attrs:{rows:3}})],1),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)]],2)],1)]],2),a("a-table",{attrs:{columns:e.columns,dataSource:e.data,pagination:e.pagination,scroll:{x:1300},rowKey:function(e){return e.id}},on:{change:e.searchManagerByParams},scopedSlots:e._u([{key:"action",fn:function(t){return a("span",{staticClass:"table-operation"},[a("span",[-1!=e.$store.getters.getButtonIds.indexOf(412)?a("a",{on:{click:function(a){return e.modifyManager(t.id)}}},[a("a-icon",{attrs:{type:"edit"}}),e._v("修改\n          ")],1):e._e()]),a("a-divider",{attrs:{type:"vertical"}}),a("span",[-1!=e.$store.getters.getButtonIds.indexOf(413)?a("a",{staticStyle:{color:"#da6868"},on:{click:function(a){return e.deleteManager(t.id)}}},[a("a-icon",{attrs:{type:"delete"}}),e._v("删除\n          ")],1):e._e()])],1)}}])})],1)],1)},n=[],i=a("a4bb"),s=a.n(i),o=a("cebc"),c=(a("386d"),a("2ef0")),l=a.n(c),u={page:1,pageSize:10},d=[{key:1,value:"正常"},{key:2,value:"禁用"},{key:3,value:"已删除"}],p={1:"正常",2:"禁用",3:"已删除"},f=[{title:"姓名",dataIndex:"realName",key:"realName"},{title:"用户名",dataIndex:"username",key:"username"},{title:"状态",dataIndex:"status",key:"status",customRender:function(e){return p[e]}},{title:"手机号码",dataIndex:"mobile",key:"mobile"},{title:"电子邮件",dataIndex:"email",key:"email"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"描述",dataIndex:"description",key:"description"},{title:"操作",key:"operator",fixed:"right",width:150,scopedSlots:{customRender:"action"}}],m={components:{},data:function(){return{data:[],visible:!1,pagination:{showTotal:this.showTotal},loading:!1,columns:f,managerStates:p,managerStatusList:d,formLayout:"horizontal",form:this.$form.createForm(this),search:this.$form.createForm(this),departments:[],id:0,isUpdate:!1}},methods:{searchFunc:function(e){var t=this;e.preventDefault(),this.search.validateFields(function(e,a){t.fetchManager(Object(o["a"])({page:u},a))})},resetSearch:function(){this.search.resetFields(),this.fetchManager({page:u})},showTotal:function(e){return"每页"+this.pagination.pageSize+"条 | 共"+e+"条数据"},show:function(){this.visible=!0,this.isUpdate=!1,this.form.resetFields()},modifyManager:function(e){var t=this;this.isUpdate=!0,this.axios.post(this.CONFIG.apiUrl+"/manager/info",{id:e}).then(function(e){t.visible=!0;var a=e.data.data;t.id=a.id,t.$nextTick(function(){t.form.setFieldsValue(l.a.pick(a,s()(t.form.getFieldsValue())))})}).catch(function(e){console.log(e)})},deleteManager:function(e){var t=this;confirm("确认删除此管理员信息吗?")&&this.axios.post(this.CONFIG.apiUrl+"/manager/delete",{id:e}).then(function(e){alert(e.data.message),t.fetchManager({page:u})}).catch(function(e){alert("删除管理员失败: "+e.response.data.message)})},searchManagerByParams:function(e){var t=this.search.getFieldsValue(),a=Object(o["a"])({},this.pagination);a.current=e.current,this.pagination=a,this.fetchManager(Object(o["a"])({page:{pageSize:e.pageSize,page:e.current}},t))},fetchManager:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.axios.post(this.CONFIG.apiUrl+"/manager/list",t).then(function(t){var a=Object(o["a"])({},e.pagination);a.total=t.data.data.totalCount,a.pageSize=t.data.data.size,a.current=t.data.data.current,e.loading=!1,e.data=t.data.data.data,e.pagination=a})},handleUpdate:function(e){var t=this;e["id"]=this.id,this.axios.post(this.CONFIG.apiUrl+"/manager/update",e).then(function(e){alert(e.data.message),1!=e.data.code&&t.fetchManager({page:u})}),this.id=0},getDepartments:function(){var e=this;this.axios.post(this.CONFIG.apiUrl+"/fetch/department",{}).then(function(t){e.departments=t.data.data})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,a){if(!e){if(t.isUpdate)return t.handleUpdate(a),void(t.visible=!1);t.axios.post(t.CONFIG.apiUrl+"/manager/add",a).then(function(e){alert(e.data.message),1!=e.data.code&&(t.visible=!1,t.fetchManager({page:u}))}).catch(function(e){console.log(e)})}})}},mounted:function(){this.fetchManager({page:u}),this.getDepartments()}},v=m,h=(a("355f"),a("2877")),g=Object(h["a"])(v,r,n,!1,null,null,null);t["default"]=g.exports},b0c5:function(e,t,a){"use strict";var r=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},bf90:function(e,t,a){var r=a("36c3"),n=a("bf0b").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return n(r(e),t)}})},cebc:function(e,t,a){"use strict";var r=a("268f"),n=a.n(r),i=a("e265"),s=a.n(i),o=a("a4bb"),c=a.n(o),l=a("85f2"),u=a.n(l);function d(e,t,a){return t in e?u()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=c()(a);"function"===typeof s.a&&(r=r.concat(s()(a).filter(function(e){return n()(a,e).enumerable}))),r.forEach(function(t){d(e,t,a[t])})}return e}a.d(t,"a",function(){return p})},d9d0:function(e,t,a){},e265:function(e,t,a){e.exports=a("ed33")},ed33:function(e,t,a){a("014b"),e.exports=a("584a").Object.getOwnPropertySymbols},fde4:function(e,t,a){a("bf90");var r=a("584a").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}}}]);
//# sourceMappingURL=chunk-6e8170ca.b7b09274.js.map