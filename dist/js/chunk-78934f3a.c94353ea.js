(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78934f3a"],{"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,n){"use strict";n("b0c5");var a=n("2aba"),r=n("32e9"),i=n("79e5"),o=n("be13"),c=n("2b4c"),s=n("520a"),l=c("species"),u=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=c(t),p=!i(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),h=p?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e}):void 0;if(!p||!h||"replace"===t&&!u||"split"===t&&!d){var g=/./[f],v=n(o,f,""[t],function(t,e,n,a,r){return e.exec===s?p&&!r?{done:!0,value:g.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),m=v[0],b=v[1];a(String.prototype,t,m),r(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"268f":function(t,e,n){t.exports=n("fde4")},"386d":function(t,e,n){"use strict";var a=n("cb7c"),r=n("83a1"),i=n("5f1b");n("214f")("search",1,function(t,e,n,o){return[function(n){var a=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=o(n,t,this);if(e.done)return e.value;var c=a(t),s=String(this),l=c.lastIndex;r(l,0)||(c.lastIndex=0);var u=i(c,s);return r(c.lastIndex,l)||(c.lastIndex=l),null===u?-1:u.index}]})},"520a":function(t,e,n){"use strict";var a=n("0bfb"),r=RegExp.prototype.exec,i=String.prototype.replace,o=r,c="lastIndex",s=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[c]||0!==e[c]}(),l=void 0!==/()??/.exec("")[1],u=s||l;u&&(o=function(t){var e,n,o,u,d=this;return l&&(n=new RegExp("^"+d.source+"$(?!\\s)",a.call(d))),s&&(e=d[c]),o=r.call(d,t),s&&o&&(d[c]=d.global?o.index+o[0].length:e),l&&o&&o.length>1&&i.call(o[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),o}),t.exports=o},"55d8":function(t,e,n){"use strict";var a=n("94dd"),r=n.n(a);r.a},"5f1b":function(t,e,n){"use strict";var a=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},6227:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-layout-content",{staticStyle:{margin:"0 16px"}},[n("a-breadcrumb",{staticStyle:{margin:"16px 0"}},[n("a-breadcrumb-item",[t._v("在线用户")]),n("a-breadcrumb-item",[t._v("在线用户列表")])],1),n("div",{class:"content-div"},[n("div",{staticStyle:{"margin-bottom":"10px"}},[[n("a-form",{staticClass:"ant-advanced-search-form",attrs:{form:t.search}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{style:{display:"block"},attrs:{span:6}},[n("a-form-item",{attrs:{label:"账号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username"],expression:"[\n              'username'\n            ]"}],attrs:{placeholder:"账号模糊搜索"}})],1)],1),n("a-col",{style:{display:"block"},attrs:{span:6}},[n("a-form-item",{attrs:{label:"IP地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ipAddr"],expression:"[\n              'ipAddr'\n            ]"}],attrs:{placeholder:"IP地址搜索"}})],1)],1),n("a-col",{style:{display:"block"},attrs:{span:6}},[n("a-form-item",{attrs:{label:"用户姓名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["realName"],expression:"[\n              'realName'\n            ]"}],attrs:{placeholder:"用户姓名模糊搜索"}})],1)],1),n("a-col",{style:{textAlign:"left"},attrs:{span:6}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.searchFunc}},[t._v("搜 索")]),n("a-button",{style:{marginLeft:"8px",backgroundColor:"#ffca7e",color:"white"},attrs:{icon:"reload"},on:{click:t.resetSearch}},[t._v("重 置")])],1)],1)],1)]],2),n("a-table",{attrs:{columns:t.columns,dataSource:t.data,pagination:t.pagination,scroll:{x:980},rowKey:function(t){return t.onlineUser.id}},on:{change:t.searchOnlineByParams},scopedSlots:t._u([{key:"action",fn:function(e){return n("span",{staticClass:"table-operation"},[n("span",[n("span",[n("a-tooltip",{attrs:{title:"下线功能：系统发送下线请求至NAS，NAS处理用户下线后会向服务器发送停止计费请求,此时用户下线."}},[n("a-icon",{attrs:{type:"question-circle-o"}})],1)],1),-1!=t.$store.getters.getButtonIds.indexOf(310)?n("a",{staticStyle:{color:"#da6868"},on:{click:function(n){return t.offlineUser(e.onlineUser.id)}}},[t._v("\n            下线 "),n("a-icon",{attrs:{type:"login"}})],1):t._e()]),n("a-divider",{attrs:{type:"vertical"}}),n("span",[-1!=t.$store.getters.getButtonIds.indexOf(320)?n("a",{staticStyle:{color:"#9a633b"},on:{click:function(n){return t.deleteOnline(e.onlineUser.id)}}},[t._v("\n            清理"),n("a-icon",{attrs:{type:"delete"}})],1):t._e()])],1)}}])})],1)],1)},r=[],i=n("cebc"),o=(n("386d"),{page:1,pageSize:10}),c=[{title:"用户姓名",dataIndex:"radUser.realName",key:"realName"},{title:"账号",dataIndex:"onlineUser.username",key:"username"},{title:"IP地址",dataIndex:"onlineUser.ipAddr",key:"ipAddr"},{title:"会话标识",dataIndex:"onlineUser.acctSessionId",key:"acctSessionId"},{title:"上线时间",dataIndex:"onlineUser.startTime",key:"startTime"},{title:"上线时长(分)",dataIndex:"onlineUser.usedDuration",key:"usedDuration",customRender:function(t){return t/60}},{title:"NasIp地址",dataIndex:"onlineUser.nasIpAddr",key:"nasIpAddr"},{title:"MAC地址",dataIndex:"onlineUser.macAddr",key:"macAddr"},{title:"上行流量MB",dataIndex:"onlineUser.totalUpStream",key:"totalUpStream",customRender:function(t){return t/1024}},{title:"下行流量MB",dataIndex:"onlineUser.totalDownStream",key:"totalDownStream",customRender:function(t){return t/1024}},{title:"操作",key:"operator",fixed:"right",width:180,scopedSlots:{customRender:"action"}}],s={components:{},data:function(){return{data:[],visible:!1,pagination:{showTotal:this.showTotal},loading:!1,columns:c,formLayout:"horizontal",search:this.$form.createForm(this)}},methods:{resetSearch:function(){this.search.resetFields(),this.listOnlineUsers({page:o})},searchFunc:function(t){var e=this;t.preventDefault(),this.search.validateFields(function(t,n){e.listOnlineUsers(Object(i["a"])({page:o},n))})},showTotal:function(t){return"每页"+this.pagination.pageSize+"条 | 共"+t+"条数据"},listOnlineUsers:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.axios.post(this.CONFIG.apiUrl+"/online/list",e).then(function(e){var n=Object(i["a"])({},t.pagination);n.total=e.data.data.totalCount,n.pageSize=e.data.data.size,n.current=e.data.data.current,t.loading=!1,t.data=e.data.data.data,t.pagination=n})},searchOnlineByParams:function(t){var e=this.search.getFieldsValue(),n=Object(i["a"])({},this.pagination);n.current=t.current,this.pagination=n,this.listOnlineUsers(Object(i["a"])({page:{pageSize:t.pageSize,page:t.current}},e))},offlineUser:function(t){var e=this;confirm("确定下线用户吗?")&&this.axios.post(this.CONFIG.apiUrl+"/online/off",{id:t}).then(function(t){alert(t.data.message),e.listOnlineUsers({page:o})}).catch(function(t){console.log(t)})},deleteOnline:function(t){var e=this;confirm("注意: 清理功能只是清理系统中在线用户的记录\n用户并不会下线,如果需要下线用户请使用下线功能!!!\n确定清理此在线用户吗?")&&this.axios.post(this.CONFIG.apiUrl+"/online/delete",{id:t}).then(function(t){alert(t.data.message),e.listOnlineUsers({page:o})}).catch(function(t){console.log(t)})}},mounted:function(){this.listOnlineUsers({page:o})}},l=s,u=(n("55d8"),n("2877")),d=Object(u["a"])(l,a,r,!1,null,null,null);e["default"]=d.exports},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"85f2":function(t,e,n){t.exports=n("454f")},"94dd":function(t,e,n){},a4bb:function(t,e,n){t.exports=n("8aae")},b0c5:function(t,e,n){"use strict";var a=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},bf90:function(t,e,n){var a=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(a(t),e)}})},cebc:function(t,e,n){"use strict";var a=n("268f"),r=n.n(a),i=n("e265"),o=n.n(i),c=n("a4bb"),s=n.n(c),l=n("85f2"),u=n.n(l);function d(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=s()(n);"function"===typeof o.a&&(a=a.concat(o()(n).filter(function(t){return r()(n,t).enumerable}))),a.forEach(function(e){d(t,e,n[e])})}return t}n.d(e,"a",function(){return f})},e265:function(t,e,n){t.exports=n("ed33")},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},fde4:function(t,e,n){n("bf90");var a=n("584a").Object;t.exports=function(t,e){return a.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-78934f3a.c94353ea.js.map