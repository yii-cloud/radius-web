(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fad265c"],{"40e9":function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("a-layout-content",{staticStyle:{margin:"0 16px"}},[r("a-breadcrumb",{staticStyle:{margin:"16px 0"}},[r("a-breadcrumb-item",[e._v("用户管理")]),r("a-breadcrumb-item",[e._v("修改用户")])],1),r("div",{class:"content-div"},[r("a-form",{style:{width:"800px",margin:"auto auto"},attrs:{form:e.form},on:{submit:e.handleSubmit}},[r("a-form-item",{attrs:{label:"用户名","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入用户名!"}]}],expression:"[\n            'username',\n            {rules: [{ required: true, message: '请输入用户名!' }]}\n          ]"}],attrs:{disabled:"",placeholder:"请输入用户名"}})],1),r("a-form-item",{attrs:{label:"密码","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password"],expression:"[\n                        'password'\n                        ]"}],attrs:{type:"password",placeholder:"选填,留空表示不修改"}})],1),r("a-form-item",{attrs:{label:"真实姓名","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["realName",{rules:[{required:!0,message:"请输入姓名!"}]}],expression:"[\n        'realName',\n        {rules: [{ required: true, message: '请输入姓名!' }]}\n      ]"}],attrs:{placeholder:"请输入姓名"}})],1),r("a-form-item",{attrs:{label:"状态","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[{required:!0,message:"请选择状态!"}]}],expression:"[\n        'status',\n        {rules: [{ required: true, message: '请选择状态!' }]}\n      ]"}],attrs:{placeholder:"请选择状态"}},e._l(e.userStateList,function(a){return r("a-select-option",{key:a.key,attrs:{value:a.key,disabled:4==a.key}},[e._v(e._s(a.value))])}),1)],1),r("a-form-item",{attrs:{label:"订购套餐","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["productId",{rules:[{required:!0,message:"请选择套餐!"}]}],expression:"[\n        'productId',\n        {rules: [{ required: true, message: '请选择套餐!' }]}\n      ]"}],attrs:{disabled:"",placeholder:"请选择套餐"}},e._l(e.products,function(a){return r("a-select-option",{key:a.id,attrs:{value:a.id,type:a.type,serviceMonth:a.serviceMonth}},[e._v(e._s(a.name))])}),1)],1),r("a-form-item",{attrs:{"label-col":{span:5},"wrapper-col":{span:12}}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          到期时间\n          "),r("a-tooltip",{attrs:{title:"流量和时长套餐可选择套餐使用的截止时间,不选择则使用套餐默认值(当日,当月,无限)！"}},[r("a-icon",{attrs:{type:"question-circle-o"}})],1)],1),r("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["expireTime",{initialValue:e.expire,rules:[{type:"object"}]}],expression:"['expireTime', {initialValue: expire,rules: [{ type: 'object'}]}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"选填,到期时间",disabled:""}})],1),r("a-form-item",{attrs:{label:"静态IP地址","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["framedIpAddr"],expression:"[\n        'framedIpAddr'\n      ]"}],attrs:{placeholder:"选填，静态IP地址"}})],1),r("a-form-item",{attrs:{label:"手机号码","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile"],expression:"[\n        'mobile'\n      ]"}],attrs:{placeholder:"选填，手机号码"}})],1),r("a-form-item",{attrs:{label:"电子邮件","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email"],expression:"[\n            'email'\n           ]"}],attrs:{placeholder:"选填，电子邮件"}})],1),r("a-form-item",{attrs:{label:"装机地址","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["installedAddr",{rules:[{required:!0,message:"请输入装机地址!"}]}],expression:"[\n        'installedAddr',\n        {rules: [{ required: true, message: '请输入装机地址!' }]}\n      ]"}],attrs:{row:5,placeholder:"请输入装机地址"}})],1),r("a-form-item",{attrs:{label:"描述","label-col":{span:5},"wrapper-col":{span:12}}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"[\n        'description'\n      ]"}],attrs:{row:3,placeholder:"选填，描述"}})],1),r("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[r("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary","html-type":"submit"}},[e._v("提交修改")])],1)],1)],1)],1)},s=[],o=r("a4bb"),i=r.n(o),n=r("e814"),l=r.n(n),c=r("2ef0"),p=r.n(c),u=r("c1df"),d=r.n(u),m=[{key:1,value:"正常"},{key:2,value:"停机"},{key:3,value:"禁用"},{key:4,value:"销户"}],f={data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this),products:[],userStateList:m,expire:null,id:0}},methods:{getUserInfo:function(){var e=this,a=l()(this.$route.query.id);this.isUpdate=!0,this.axios.post(this.CONFIG.apiUrl+"/user/info",{id:a}).then(function(a){e.visible=!0;var r=a.data.data;e.id=r.id;var t=r["expireTime"];null!=t&&(r["expireTime"]=d()(t)),e.$nextTick(function(){e.form.setFieldsValue(p.a.pick(r,i()(e.form.getFieldsValue())))})}).catch(function(){alert("修改用户失败")})},fetchProducts:function(){var e=this;this.axios.post(this.CONFIG.apiUrl+"/fetch/product",{}).then(function(a){e.products=a.data.data})},handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields(function(e,r){e||(delete r.expireTime,r["id"]=a.id,a.axios.post(a.CONFIG.apiUrl+"/user/update",r).then(function(e){alert(e.data.message),a.$router.push("/user"),e.data.code}).catch(function(){}))})}},mounted:function(){this.fetchProducts(),this.getUserInfo()}},v=f,b=r("2877"),h=Object(b["a"])(v,t,s,!1,null,null,null);a["default"]=h.exports},"5d6b":function(e,a,r){var t=r("e53d").parseInt,s=r("a1ce").trim,o=r("e692"),i=/^[-+]?0[xX]/;e.exports=8!==t(o+"08")||22!==t(o+"0x16")?function(e,a){var r=s(String(e),3);return t(r,a>>>0||(i.test(r)?16:10))}:t},7445:function(e,a,r){var t=r("63b6"),s=r("5d6b");t(t.G+t.F*(parseInt!=s),{parseInt:s})},a1ce:function(e,a,r){var t=r("63b6"),s=r("25eb"),o=r("294c"),i=r("e692"),n="["+i+"]",l="​",c=RegExp("^"+n+n+"*"),p=RegExp(n+n+"*$"),u=function(e,a,r){var s={},n=o(function(){return!!i[e]()||l[e]()!=l}),c=s[e]=n?a(d):i[e];r&&(s[r]=c),t(t.P+t.F*n,"String",s)},d=u.trim=function(e,a){return e=String(s(e)),1&a&&(e=e.replace(c,"")),2&a&&(e=e.replace(p,"")),e};e.exports=u},b9e9:function(e,a,r){r("7445"),e.exports=r("584a").parseInt},e692:function(e,a){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(e,a,r){e.exports=r("b9e9")}}]);
//# sourceMappingURL=chunk-8fad265c.381fb56f.js.map